/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/8.5.85
 * Generated at: 2024-06-26 15:37:54 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.ArrayList;
import model.bean.Product;
import model.dto.ProDTO;
import model.dto.DanhgiaDTO;
import common.StringCommon;
import common.ValidateCommon;

public final class productDetail_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = new java.util.HashSet<>();
    _jspx_imports_classes.add("model.bean.Product");
    _jspx_imports_classes.add("common.ValidateCommon");
    _jspx_imports_classes.add("model.dto.DanhgiaDTO");
    _jspx_imports_classes.add("common.StringCommon");
    _jspx_imports_classes.add("model.dto.ProDTO");
    _jspx_imports_classes.add("java.util.ArrayList");
  }

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    final java.lang.String _jspx_method = request.getMethod();
    if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
      return;
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write(" \r\n");
      out.write("    \r\n");
      out.write("        \r\n");
      out.write("            \r\n");
      out.write("             \r\n");
      out.write("                \r\n");
      out.write("                \r\n");
      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html lang=\"en\">\r\n");
      out.write("\r\n");
      out.write("<head>\r\n");
      out.write("  <meta charset=\"UTF-8\">\r\n");
      out.write("  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n");
      out.write("  <title>Product Page</title>\r\n");
      out.write("  <link rel=\"stylesheet\" href=\"style.css\">\r\n");
      out.write("  <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css\">\r\n");
      out.write("  <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js\"></script>\r\n");
      out.write("  <style>\r\n");
      out.write("  \r\n");
      out.write("  		.stars {\r\n");
      out.write("            display: flex;\r\n");
      out.write("            justify-content: center;\r\n");
      out.write("            margin-bottom: 20px;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .stars input[type=\"radio\"] {\r\n");
      out.write("            display: none;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .stars label {\r\n");
      out.write("            font-size: 30px;\r\n");
      out.write("            color: gray;\r\n");
      out.write("            cursor: pointer;\r\n");
      out.write("            transition: color 0.2s;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .stars label.active {\r\n");
      out.write("            color: gold;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("		.stars12 {\r\n");
      out.write("               display: inline-block;\r\n");
      out.write("            color: #FFD700;\r\n");
      out.write("            font-size: 24px;\r\n");
      out.write("        }\r\n");
      out.write("        .stars123{\r\n");
      out.write("        display: inline-block;\r\n");
      out.write("            font-size: 24px;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("       \r\n");
      out.write("\r\n");
      out.write("  \r\n");
      out.write("  \r\n");
      out.write("  \r\n");
      out.write("     .custom-alert {\r\n");
      out.write("            position: fixed;\r\n");
      out.write("            top: 20px;\r\n");
      out.write("            left: 50%;\r\n");
      out.write("            transform: translateX(-50%);\r\n");
      out.write("            background-color: #4CAF50;\r\n");
      out.write("            color: white;\r\n");
      out.write("            padding: 16px;\r\n");
      out.write("            border-radius: 5px;\r\n");
      out.write("            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n");
      out.write("            z-index: 1000;\r\n");
      out.write("            opacity: 0;\r\n");
      out.write("            transition: opacity 0.5s ease-in-out;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .custom-alert.show {\r\n");
      out.write("            opacity: 1;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .custom-alert.hidden {\r\n");
      out.write("            display: none;\r\n");
      out.write("        }\r\n");
      out.write("  \r\n");
      out.write("  \r\n");
      out.write("  \r\n");
      out.write("  \r\n");
      out.write("  \r\n");
      out.write("  \r\n");
      out.write("  \r\n");
      out.write("    .ratingBig {\r\n");
      out.write("      display: flex;\r\n");
      out.write("      align-items: center;\r\n");
      out.write("      justify-content: left;\r\n");
      out.write("      margin-bottom: 10px;\r\n");
      out.write("      flex-direction: column;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .addToCart-productDetail-btn {\r\n");
      out.write("      padding: 12px 17px;\r\n");
      out.write("      background-color: #4154f1;\r\n");
      out.write("      color: white;\r\n");
      out.write("      border: none;\r\n");
      out.write("      border-radius: 5px;\r\n");
      out.write("      font-size: 18px;\r\n");
      out.write("      cursor: pointer;\r\n");
      out.write("      transition: background-color 0.3s;\r\n");
      out.write("      margin-top: 30px\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .product-page {\r\n");
      out.write("      display: flex;\r\n");
      out.write("      flex-wrap: wrap;\r\n");
      out.write("      width: 95%;\r\n");
      out.write("      padding: 0 20px 20px 20px;\r\n");
      out.write("      background-color: #fff;\r\n");
      out.write("     /*  border: black solid 1px; */\r\n");
      out.write("      border-radius: 8px;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .productDetail-image {\r\n");
      out.write("      flex: 1 1 40%;\r\n");
      out.write("      height: auto;\r\n");
      out.write("      padding: 15px;\r\n");
      out.write("      box-sizing: border-box;\r\n");
      out.write("     /*  border: black solid 1px; */\r\n");
      out.write("      text-align: center;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .product-details {\r\n");
      out.write("      flex: 1 1 50%;\r\n");
      out.write("      height: auto;\r\n");
      out.write("      box-sizing: border-box;\r\n");
      out.write("/*       border: black solid 1px; */\r\n");
      out.write("      margin: 3px;\r\n");
      out.write("      padding: 0 20px 20px 20px;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .product-image {\r\n");
      out.write("      width: 100%;\r\n");
      out.write("      max-width: 500px;\r\n");
      out.write("      display: flex;\r\n");
      out.write("      flex-direction: column;\r\n");
      out.write("      align-items: center;\r\n");
      out.write("      flex: 1;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .product-image img.main-image {\r\n");
      out.write("      width: 100%;\r\n");
      out.write("      height: auto;\r\n");
      out.write("      border: #333 solid 1px;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .thumbnail-images {\r\n");
      out.write("      display: flex;\r\n");
      out.write("      gap: 10px;\r\n");
      out.write("      margin-top: 10px;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .thumbnail-images img.thumbnail {\r\n");
      out.write("      width: 100px;\r\n");
      out.write("      height: 100px;\r\n");
      out.write("      cursor: pointer;\r\n");
      out.write("      flex: 1;\r\n");
      out.write("      max-width: 100px;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("    .product-details h1 {\r\n");
      out.write("      font-size: 24px;\r\n");
      out.write("      margin-top: 10px;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .price {\r\n");
      out.write("      font-size: 20px;\r\n");
      out.write("      color: #e67e22;\r\n");
      out.write("      text-align: left;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .stock {\r\n");
      out.write("      margin: 10px 0;\r\n");
      out.write("      text-align: left;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .in-stock {\r\n");
      out.write("      color: black;\r\n");
      out.write("      font-weight: bold;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("    .description {\r\n");
      out.write("      margin-bottom: 20px;\r\n");
      out.write("      text-align: left;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .actions button {\r\n");
      out.write("      margin-right: 10px;\r\n");
      out.write("      padding: 10px 20px;\r\n");
      out.write("      background: #e67e22;\r\n");
      out.write("      color: white;\r\n");
      out.write("      border: none;\r\n");
      out.write("      cursor: pointer;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("    .size-options {\r\n");
      out.write("      margin: 10px 0;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .sizes {\r\n");
      out.write("      display: flex;\r\n");
      out.write("      gap: 10px;\r\n");
      out.write("      margin-top: 15px;\r\n");
      out.write("      margin-bottom: 30px;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .color {\r\n");
      out.write("      width: 20px;\r\n");
      out.write("      height: 20px;\r\n");
      out.write("      display: inline-block;\r\n");
      out.write("      cursor: pointer;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .black {\r\n");
      out.write("      background: black;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("    .size {\r\n");
      out.write("      padding: 5px 10px;\r\n");
      out.write("      border: 1px solid #333;\r\n");
      out.write("      cursor: pointer;\r\n");
      out.write("      border-radius: 5px;\r\n");
      out.write("      margin-bottom: 30px;\r\n");
      out.write("\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("    .add-to-cart button:hover {\r\n");
      out.write("\r\n");
      out.write("      background: rgb(24, 24, 154);\r\n");
      out.write("\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .rating {\r\n");
      out.write("      display: flex;\r\n");
      out.write("      align-items: center;\r\n");
      out.write("      justify-content: left;\r\n");
      out.write("      margin-bottom: 10px;\r\n");
      out.write("      flex-direction: row;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .stars1 {\r\n");
      out.write("      display: flex;\r\n");
      out.write("      margin-right: 5px;\r\n");
      out.write("      margin-left: 5px;\r\n");
      out.write("      color: #FFD700;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .star {\r\n");
      out.write("      font-size: 24px;\r\n");
      out.write("      color: #FFD700;\r\n");
      out.write("      margin-right: 2px;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .empty {\r\n");
      out.write("      color: #ddd;\r\n");
      out.write("      /* Grey color */\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .sold {\r\n");
      out.write("      color: #333;\r\n");
      out.write("      padding-top: 7px;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .price {\r\n");
      out.write("      font-size: 24px;\r\n");
      out.write("      color: #e67e22;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .buttons_added {\r\n");
      out.write("      opacity: 1;\r\n");
      out.write("      display: inline-block;\r\n");
      out.write("      display: -ms-inline-flexbox;\r\n");
      out.write("      display: inline-flex;\r\n");
      out.write("      white-space: nowrap;\r\n");
      out.write("      vertical-align: top;\r\n");
      out.write("      margin-right: 30px;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .is-form {\r\n");
      out.write("      overflow: hidden;\r\n");
      out.write("      position: relative;\r\n");
      out.write("      background-color: #f9f9f9;\r\n");
      out.write("      /* height: 2.2rem; */\r\n");
      out.write("      width: 1.9rem;\r\n");
      out.write("      padding: 0;\r\n");
      out.write("      text-shadow: 1px 1px 1px #fff;\r\n");
      out.write("      border: 1px solid #ddd;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .is-form:focus,\r\n");
      out.write("    .input-text:focus {\r\n");
      out.write("      outline: none;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .is-form.minus {\r\n");
      out.write("      border-radius: 4px 0 0 4px;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .is-form.plus {\r\n");
      out.write("      border-radius: 0 4px 4px 0;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .input-qty {\r\n");
      out.write("      background-color: #fff;\r\n");
      out.write("      height: 2.2rem;\r\n");
      out.write("      text-align: center;\r\n");
      out.write("      font-size: 1rem;\r\n");
      out.write("      display: inline-block;\r\n");
      out.write("      vertical-align: top;\r\n");
      out.write("      margin: 0;\r\n");
      out.write("      border-top: 1px solid #ddd;\r\n");
      out.write("      border-bottom: 1px solid #ddd;\r\n");
      out.write("      border-left: 0;\r\n");
      out.write("      border-right: 0;\r\n");
      out.write("      padding: 0;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .input-qty::-webkit-outer-spin-button,\r\n");
      out.write("    .input-qty::-webkit-inner-spin-button {\r\n");
      out.write("      -webkit-appearance: none;\r\n");
      out.write("      margin: 0;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("    /* body {\r\n");
      out.write("            font-family: Arial, sans-serif;\r\n");
      out.write("            margin: 0;\r\n");
      out.write("            padding: 0;\r\n");
      out.write("            background-color: #f9f9f9;\r\n");
      out.write("        } */\r\n");
      out.write("\r\n");
      out.write("    .nav-bar {\r\n");
      out.write("      display: flex;\r\n");
      out.write("      justify-content: center;\r\n");
      out.write("      background-color: #fff;\r\n");
      out.write("      padding: 10px 0 10px 0;\r\n");
      out.write("      width: 100%;\r\n");
      out.write("      border-bottom: 2px solid #ccc;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .nav-button {\r\n");
      out.write("      background-color: #fff;\r\n");
      out.write("    border: none;\r\n");
      out.write("    color: black;\r\n");
      out.write("    padding: 10px 20px;\r\n");
      out.write("    margin: 5px;\r\n");
      out.write("    font-size: 16px;\r\n");
      out.write("    cursor: pointer;\r\n");
      out.write("    transition: background-color 0.3s;\r\n");
      out.write("    border-radius: 5px;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .nav-button:hover {\r\n");
      out.write("      font-weight: bold;\r\n");
      out.write("    }\r\n");
      out.write("    \r\n");
      out.write("    .nav-button:active {\r\n");
      out.write("       font-weight: bold;\r\n");
      out.write("    }\r\n");
      out.write("    .nav-button:after {\r\n");
      out.write("       font-weight: bold;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("    .section {\r\n");
      out.write("      padding: 10px;\r\n");
      out.write("      margin: 10px;\r\n");
      out.write("      background-color: #fff;\r\n");
      out.write("      border-radius: 5px;\r\n");
      out.write("      /* box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); */\r\n");
      out.write("      width: 90%;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .product-rating {\r\n");
      out.write("      text-align: center;\r\n");
      out.write("      margin-bottom: 20px;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .stars {\r\n");
      out.write("      color: #f7d32e;\r\n");
      out.write("      font-size: 30px;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .big-stars {\r\n");
      out.write("      color: #f7d32e;\r\n");
      out.write("      font-size: 70px;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .danhgia1 {\r\n");
      out.write("      color: black;\r\n");
      out.write("      font-size: 25px;\r\n");
      out.write("      margin-top: 5px;\r\n");
      out.write("      margin-bottom: 0;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .danhgia2 {\r\n");
      out.write("      color: black;\r\n");
      out.write("      font-size: 18px;\r\n");
      out.write("      margin-top: 5px;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("    .rating-bar {\r\n");
      out.write("      width: 100%;\r\n");
      out.write("      height: 20px;\r\n");
      out.write("      background-color: #ddd;\r\n");
      out.write("      border-radius: 10px;\r\n");
      out.write("      margin-bottom: 10px;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .review {\r\n");
      out.write("      margin-bottom: 20px;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .username {\r\n");
      out.write("      font-weight: bold;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .comment {\r\n");
      out.write("      color: #555;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .rate-button {\r\n");
      out.write("      display: inline-block;\r\n");
      out.write("      text-align: center;\r\n");
      out.write("      background-color: #007bff;\r\n");
      out.write("      color: #fff;\r\n");
      out.write("      padding: 10px;\r\n");
      out.write("      border-radius: 5px;\r\n");
      out.write("      text-decoration: none;\r\n");
      out.write("      margin-top: 20px;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    .rate-button:hover {\r\n");
      out.write("\r\n");
      out.write("      background-color: #164271;\r\n");
      out.write("\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("    .modal {\r\n");
      out.write("      display: none;\r\n");
      out.write("      position: fixed;\r\n");
      out.write("      z-index: 1;\r\n");
      out.write("      left: 0;\r\n");
      out.write("      top: 0;\r\n");
      out.write("      width: 100%;\r\n");
      out.write("      height: 100%;\r\n");
      out.write("      background-color: rgba(0, 0, 0, 0.5);\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    /* Modal content */\r\n");
      out.write("    .modal-content {\r\n");
      out.write("      background-color: #fff;\r\n");
      out.write("      margin: 10% auto;\r\n");
      out.write("      padding: 30px;\r\n");
      out.write("      border-radius: 5px;\r\n");
      out.write("      width: 100%;\r\n");
      out.write("      max-width: 500px;\r\n");
      out.write("      height: 100%;\r\n");
      out.write("      max-height: 400px;\r\n");
      out.write("    }\r\n");
      out.write("    \r\n");
      out.write("    .star_wrap{\r\n");
      out.write("    display: flex;\r\n");
      out.write("    flex-direction: row-reverse;\r\n");
      out.write("	}\r\n");
      out.write("	    .star_wrap input{\r\n");
      out.write("	    appearance: none;\r\n");
      out.write("	    }\r\n");
      out.write("	    .star_wrap input:before{\r\n");
      out.write("	    contenr: \"\\2065\";\r\n");
      out.write("	    color: #ccc;\r\n");
      out.write("	    font-size: 2rem;\r\n");
      out.write("	    cursor: pointer;\r\n");
      out.write("	    }\r\n");
      out.write("	    \r\n");
      out.write("	    .star_wrap input:checked::before,\r\n");
      out.write("	    .star_wrap input:checked ~ .star_wrap input:before{\r\n");
      out.write("	    color: #ffb800;\r\n");
      out.write("	    }\r\n");
      out.write("	    \r\n");
      out.write(".central{\r\n");
      out.write("text-align: center;\r\n");
      out.write("margin-top: 30px;}\r\n");
      out.write("\r\n");
      out.write("    /* Close button */\r\n");
      out.write("    .close {\r\n");
      out.write("      float: right;\r\n");
      out.write("      font-size: 30px;\r\n");
      out.write("      font-weight: bold;\r\n");
      out.write("      cursor: pointer;\r\n");
      out.write("      position: relative;\r\n");
      out.write("      outline: 0;\r\n");
      out.write("      margin-left: 3px;\r\n");
      out.write("      min-height: inherit;\r\n");
      out.write("      line-height: inherit;\r\n");
      out.write("\r\n");
      out.write("    }\r\n");
      out.write("    .sub-header {\r\n");
      out.write("    margin-top: 15px;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    /* Title */\r\n");
      out.write("    .modal-title {\r\n");
      out.write("      font-size: 18px;\r\n");
      out.write("      font-weight: bold;\r\n");
      out.write("      margin-bottom: 30px;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    /* Text input fields */\r\n");
      out.write("    .input-field {\r\n");
      out.write("      width: 95%;\r\n");
      out.write("      max-width: 95%;\r\n");
      out.write("      height: 80px;\r\n");
      out.write("      max-height: 30%;\r\n");
      out.write("      min-height: 25px;\r\n");
      out.write("      padding: 10px;\r\n");
      out.write("      margin-bottom: 10px;\r\n");
      out.write("      border: 1px solid #ccc;\r\n");
      out.write("      border-radius: 5px;\r\n");
      out.write("      font-size: 20px;\r\n");
      out.write("    }\r\n");
      out.write("    \r\n");
      out.write("    \r\n");
      out.write("\r\n");
      out.write("    @media (max-width: 768px) {\r\n");
      out.write("\r\n");
      out.write("      .product-details,\r\n");
      out.write("      .productDetail-image {\r\n");
      out.write("        flex: 1 1 100%;\r\n");
      out.write("      }\r\n");
      out.write("    }\r\n");
      out.write("    \r\n");
      out.write("    \r\n");
      out.write("    \r\n");
      out.write("  </style>\r\n");
      out.write("</head>\r\n");
      out.write(" ");
 ProDTO productGroup=(ProDTO)request.getAttribute("productGroup");
      out.write("\r\n");
      out.write("                        ");
 Product productDetail=(Product)request.getAttribute("productDetail");
      out.write("\r\n");
      out.write("                            ");
 ArrayList<Product> productList =(ArrayList<Product>)request.getAttribute("productList");
      out.write("\r\n");
      out.write("                            ");
 ArrayList<DanhgiaDTO> rate =(ArrayList<DanhgiaDTO>)request.getAttribute("rate");
      out.write("\r\n");
      out.write("                            ");
 DanhgiaDTO star=(DanhgiaDTO)request.getAttribute("star");
      out.write("\r\n");
      out.write("<body>\r\n");
      out.write("\r\n");
      out.write("  <header>\r\n");
      out.write("  <div id=\"customAlert\" class=\"custom-alert hidden\">Sản phẩm đã được thêm vào giỏ hàng.</div>\r\n");
      out.write("  ");
String error = request.getParameter("messageRate"); 
      out.write(" \r\n");
      out.write("    ");
 if ("1".equals(error)) { 
      out.write("\r\n");
      out.write("    <div id=\"thongbao\" class=\"custom-alert hidden\">Đánh giá thành công!</div>\r\n");
      out.write("	");
 } 
      out.write("\r\n");
      out.write("    <div class=\"header-left\">\r\n");
      out.write("      <img src=\"logo.jpg\" alt=\"Logo\" class=\"logo\">\r\n");
      out.write("    </div>\r\n");
      out.write("    <div class=\"header-center\">\r\n");
      out.write("      <nav>\r\n");
      out.write("        <ul>\r\n");
      out.write("           <li><a href=\"ShowHomeServlet\">Trang chủ</a></li>\r\n");
      out.write("           <li><a href=\"ShowProductListServlet\">Sản phẩm</a></li>\r\n");
      out.write("           <li><a href=\"#\">Thương hiệu</a></li>\r\n");
      out.write("        </ul>\r\n");
      out.write("      </nav>\r\n");
      out.write("      <div class=\"search-bar\">\r\n");
      out.write("        <input type=\"text\" class=\"search-input\" placeholder=\"Tìm kiếm...\">\r\n");
      out.write("\r\n");
      out.write("        <button><i class=\"fa-solid fa-magnifying-glass\"></i></button>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("    <div class=\"header-right\">\r\n");
      out.write("\r\n");
      out.write("      <div class=\"cart\">\r\n");
      out.write("        <a href=\"ShowCartServlet\"><i class=\"fa-solid fa-cart-shopping\"></i></a>\r\n");
      out.write("      </div>\r\n");
      out.write("\r\n");
      out.write("      <div class=\"account\">\r\n");
      out.write("        <a href=\"#\" title=\"Tài khoản\"><i class=\"fa-solid fa-user\"></i></a>\r\n");
      out.write("      </div>\r\n");
      out.write("\r\n");
      out.write("    </div>\r\n");
      out.write("  </header>\r\n");
      out.write("\r\n");
      out.write("  <div class=\"sub-header\">\r\n");
      out.write("    <div class=\"breadcrumb\">\r\n");
      out.write("      <a href=\"#\">Trang chủ</a> / <span>Chi tiết sản phẩm</span>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("  <div class=\"container-productDetail\">\r\n");
      out.write("    <div class=\"product-page\">\r\n");
      out.write("      <div class=\"productDetail-image\">\r\n");
      out.write("        <div class=\"product-image\">\r\n");
      out.write("           <img src=\"");
      out.print(productDetail.getImage());
      out.write("\" alt=\"\"\r\n");
      out.write("               class=\"main-image\">\r\n");
      out.write("           <div class=\"thumbnail-images\">\r\n");
      out.write("               ");
for(Product p: productList){ 
      out.write("\r\n");
      out.write("                   <img src=\"");
      out.print(p.getImage() );
      out.write("\" alt=\"Thumbnail 1\"\r\n");
      out.write("                       width=\"100\" height=\"100\">\r\n");
      out.write("                   ");
} 
      out.write("\r\n");
      out.write("           </div>\r\n");
      out.write("       </div>\r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"product-details\">\r\n");
      out.write("        <h1>");
      out.print(productGroup.getProductGroupName());
      out.write(' ');
      out.print(productDetail.getSize());
      out.write("</h1>\r\n");
      out.write("\r\n");
      out.write("        <div class=\"rating\">\r\n");
      out.write("          <span class=\"sold\">");
      out.print(ValidateCommon.formatStarRate(star.getStarRate(), 1));
      out.write(" </span>\r\n");
      out.write("          <!-- <div class=\"stars1\" id=\"stars\"></div> -->\r\n");
      out.write("\r\n");
      out.write(" 		");
for(int i=1; i<=5; i++) {
 			if(i<=star.getStarRate()){ 
      out.write("\r\n");
      out.write(" 			<span class=\"star full\">★</span>\r\n");
      out.write(" 			");
} else{ 
      out.write("\r\n");
      out.write(" 			<span class=\"star empty\">★</span>  	 \r\n");
      out.write(" 			");
} 
      out.write("\r\n");
      out.write(" 		");
} 
      out.write("\r\n");
      out.write("       \r\n");
      out.write("        \r\n");
      out.write("          \r\n");
      out.write("          <span class=\"sold\"> | ");
      out.print(star.getRateNum() );
      out.write(" đánh giá</span>\r\n");
      out.write("          \r\n");
      out.write("        </div> \r\n");
      out.write("        <p class=\"price\">");
      out.print(StringCommon.formatCurrency(productDetail.getPrice()));
      out.write("</p>\r\n");
      out.write("        ");
 if ("1".equals(error)) { 
      out.write("\r\n");
      out.write("        \r\n");
      out.write("\r\n");
      out.write("	");
 } 
      out.write("\r\n");
      out.write("\r\n");
      out.write("          <div class=\"brand\">\r\n");
      out.write("               <a href=\"home.html\"><span class=\"brand\">\r\n");
      out.write("                       ");
      out.print(productGroup.getBrandName() );
      out.write("\r\n");
      out.write("                   </span></a>\r\n");
      out.write("           </div>\r\n");
      out.write("           <p class=\"description\">\r\n");
      out.write("               ");
      out.print(productGroup.getDes() );
      out.write("\r\n");
      out.write("           </p>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("        <div class=\"size-options\">\r\n");
      out.write("           <label>Dung tích:</label>\r\n");
      out.write("           <div class=\"sizes\">\r\n");
      out.write("               ");
for(Product p: productList){ 
      out.write("\r\n");
      out.write("                   <a type=\"button\"\r\n");
      out.write("                       onclick=\"location.href='ShowProductDetailServlet?productGroupID=");
      out.print(p.getProductGroupID());
      out.write("&productID=");
      out.print(p.getProductID());
      out.write("';\">\r\n");
      out.write("                       <span class=\"size\">\r\n");
      out.write("                           ");
      out.print(p.getSize() );
      out.write("\r\n");
      out.write("                       </span></a>\r\n");
      out.write("                   ");
} 
      out.write("\r\n");
      out.write("           </div>\r\n");
      out.write("       </div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("        <div>\r\n");
      out.write("		<form id=\"addCartForm\" class=\"addCartProductDetail\" action=\"AddToCart\" method=\"post\">\r\n");
      out.write("    <div class=\"buttons_added\">\r\n");
      out.write("        <input class=\"minus is-form\" type=\"button\" value=\"-\">\r\n");
      out.write("        <input aria-label=\"quantity\" class=\"input-qty\" max=\"10\" min=\"1\" name=\"Quantity\" type=\"number\" value=\"1\">\r\n");
      out.write("        <input type=\"hidden\" name=\"proID\" value=\"");
      out.print(productDetail.getProductID());
      out.write("\">\r\n");
      out.write("        <input class=\"plus is-form\" type=\"button\" value=\"+\">\r\n");
      out.write("    </div>\r\n");
      out.write("    <div class=\"addToCartProductDetail\">\r\n");
      out.write("        <button type=\"button\" id=\"submitForm\" class=\"addToCart-productDetail-btn\">Thêm vào giỏ</button>\r\n");
      out.write("    </div>\r\n");
      out.write("</form>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("        </div>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("    <div class=\"nav-bar\">\r\n");
      out.write("      <button class=\"nav-button active\" onclick=\"showSection('product-info')\">THÔNG TIN SẢN PHẨM</button>\r\n");
      out.write("      <button class=\"nav-button\" onclick=\"showSection('reviews')\">ĐÁNH GIÁ NHẬN XÉT</button>\r\n");
      out.write("    </div>\r\n");
      out.write("\r\n");
      out.write("    <div id=\"product-info\" class=\"section\">\r\n");
      out.write("      <h2>Thông tin sản phẩm</h2>\r\n");
      out.write("      \r\n");
      out.write("    \r\n");
      out.write("      <ul>\r\n");
      out.write("          <li><b></b>\r\n");
      out.write("              ");
      out.print(productGroup.getDes() );
      out.write("\r\n");
      out.write("          </li>\r\n");
      out.write("      </ul>\r\n");
      out.write("\r\n");
      out.write("    </div>\r\n");
      out.write("\r\n");
      out.write("    <div id=\"reviews\" class=\"section\" style=\"display: none;\">\r\n");
      out.write("      <h2>Đánh Giá Nhận Xét</h2>\r\n");
      out.write("      <h1>");
      out.print(productGroup.getProductGroupName() );
      out.write("</h1>\r\n");
      out.write("      <div class=\"product-rating\">\r\n");
      out.write("\r\n");
      out.write("        <div class=\"ratingBig\">\r\n");
      out.write("          <div class=\" big-stars\">");
      out.print(ValidateCommon.formatStarRate(star.getStarRate(), 1) );
      out.write("★</div>\r\n");
      out.write("        </div>\r\n");
      out.write("        <p class=\"danhgia1\">Đánh giá trung bình</p>\r\n");
      out.write("        <p class=\"danhgia2\">(dựa trên ");
      out.print(star.getRateNum());
      out.write(" đánh giá)</p>\r\n");
      out.write("	");

	if (session.getAttribute("accountInfor") != null) {
	
      out.write("\r\n");
      out.write("        <a href=\"#\" onclick=\"openModal()\" class=\"rate-button\">ĐÁNH GIÁ NGAY</a>\r\n");
      out.write("     ");
}else{} 
      out.write("   \r\n");
      out.write("      \r\n");
      out.write("      </div>\r\n");
      out.write("\r\n");
      out.write("      \r\n");
      out.write("      ");
for(DanhgiaDTO r:rate){ 
      out.write("\r\n");
      out.write("      <div class=\"review\">\r\n");
      out.write("        <span class=\"username\">");
      out.print(r.getFullname() );
      out.write("</span>\r\n");
      out.write("        <div class=\"stars1\">\r\n");
      out.write(" 		");
for(int i=1; i<=5; i++) {
 			if(i<=r.getStar()){ 
      out.write("\r\n");
      out.write(" 			<span class=\"star full\">★</span>\r\n");
      out.write(" 			");
} else{ 
      out.write("\r\n");
      out.write(" 			<span class=\"star empty\">★</span> \r\n");
      out.write(" 			");
} 
      out.write("\r\n");
      out.write(" 		");
} 
      out.write("\r\n");
      out.write("       \r\n");
      out.write("        </div>\r\n");
      out.write("        <p class=\"comment\">");
      out.print(r.getComment() );
      out.write("</p>\r\n");
      out.write("      </div>\r\n");
      out.write("      ");
} 
      out.write("\r\n");
      out.write("\r\n");
      out.write("       <!-- <div class=\"review\">\r\n");
      out.write("        <span class=\"username\">Trang</span>\r\n");
      out.write("        <div class=\"stars1\">★★★★★</div>\r\n");
      out.write("        <p class=\"comment\">Mình bị da sưng nặng lông nên dùng 2% BHA lotion hay 10% AHA?</p>\r\n");
      out.write("        <p class=\"date\">Trà lời - 19/07/2020</p>\r\n");
      out.write("      </div>  -->\r\n");
      out.write("\r\n");
      out.write("      <!-- Thêm các đánh giá khác ở đây -->\r\n");
      out.write("    </div>\r\n");
      out.write("\r\n");
      out.write("  </div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<footer>\r\n");
      out.write("        <div class=\"footer-container\">\r\n");
      out.write("            <div class=\"footer-section\">\r\n");
      out.write("                <h3>Về chúng tôi</h3>\r\n");
      out.write("                <p>COSMETIC SHOP chuyên cung cấp các sản phẩm chăm sóc da uy tín và chất lượng.</p>\r\n");
      out.write("            </div>\r\n");
      out.write("            <div class=\"footer-section\">\r\n");
      out.write("                <h3>Liên hệ</h3>\r\n");
      out.write("                <p>Email: 123@example.com</p>\r\n");
      out.write("                <p>Điện thoại: 0123-456-789</p>\r\n");
      out.write("            </div>\r\n");
      out.write("            <div class=\"footer-section\">\r\n");
      out.write("                <h3>Kết nối với chúng tôi</h3>\r\n");
      out.write("                <p>\r\n");
      out.write("                    <a href=\"#\"><i class=\"fa-brands fa-facebook\"></i></a>\r\n");
      out.write("                    <a href=\"#\"><i class=\"fa-brands fa-twitter\"></i></a>\r\n");
      out.write("                    <a href=\"#\"><i class=\"fa-brands fa-instagram\"></i></a>\r\n");
      out.write("                </p>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("    </footer>\r\n");
      out.write("\r\n");
      out.write("  <!-- Modal -->\r\n");
      out.write("  <div id=\"myModal\" class=\"modal\">\r\n");
      out.write("    <form class=\"modal-content\" action=\"RateServlet\" method=\"post\">\r\n");
      out.write("      <span class=\"close\" onclick=\"closeModal()\">&times;</span>\r\n");
      out.write("      <div class=\"modal-title\">");
      out.print(productGroup.getProductGroupName());
      out.write("\r\n");
      out.write("      </div>\r\n");
      out.write("      <textarea class=\"input-field\" placeholder=\"Bạn cảm thấy thế nào về sản phẩm?\" name=\"comment\"></textarea>\r\n");
      out.write("        <div>\r\n");
      out.write("            <div class=\"stars\">\r\n");
      out.write("                <input type=\"radio\" name=\"rating\" value=\"1\" id=\"star1\"><label for=\"star1\" class=\"star\">★</label>\r\n");
      out.write("                <input type=\"radio\" name=\"rating\" value=\"2\" id=\"star2\"><label for=\"star2\" class=\"star\">★</label>\r\n");
      out.write("                <input type=\"radio\" name=\"rating\" value=\"3\" id=\"star3\"><label for=\"star3\" class=\"star\">★</label>\r\n");
      out.write("                <input type=\"radio\" name=\"rating\" value=\"4\" id=\"star4\"><label for=\"star4\" class=\"star\">★</label>\r\n");
      out.write("                <input type=\"radio\" name=\"rating\" value=\"5\" id=\"star5\"><label for=\"star5\" class=\"star\">★</label>\r\n");
      out.write("            </div>\r\n");
      out.write("            <input type=\"hidden\" name=\"productGroupID\" value=\"");
      out.print(productGroup.getProductGroupID());
      out.write("\"/>\r\n");
      out.write("            <input type=\"hidden\" name=\"productID\" value=\"");
      out.print(productDetail.getProductID());
      out.write("\"/>\r\n");
      out.write("        </div>\r\n");
      out.write("      \r\n");
      out.write("    <br>\r\n");
      out.write("    <div class=\"central\">\r\n");
      out.write("    <button type=\"submit\" class=\"rate-button\">Gửi đánh giá</button>\r\n");
      out.write("    </div>\r\n");
      out.write(" <!--      <p>Lưu ý: Đánh giá sẽ được kiểm duyệt theo Chính sách của chúng tôi trước khi xuất bản.</p> -->\r\n");
      out.write("  </form>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("  <script>\r\n");
      out.write("    $('input.input-qty').each(function () {\r\n");
      out.write("      var $this = $(this),\r\n");
      out.write("        qty = $this.parent().find('.is-form'),\r\n");
      out.write("        min = Number($this.attr('min')),\r\n");
      out.write("        max = Number($this.attr('max'))\r\n");
      out.write("      if (min == 0) {\r\n");
      out.write("        var d = 0\r\n");
      out.write("      } else d = min\r\n");
      out.write("      $(qty).on('click', function () {\r\n");
      out.write("        if ($(this).hasClass('minus')) {\r\n");
      out.write("          if (d > min) d += -1\r\n");
      out.write("        } else if ($(this).hasClass('plus')) {\r\n");
      out.write("          var x = Number($this.val()) + 1\r\n");
      out.write("          if (x <= max) d += 1\r\n");
      out.write("        }\r\n");
      out.write("        $this.attr('value', d).val(d)\r\n");
      out.write("      })\r\n");
      out.write("    })\r\n");
      out.write("  </script>\r\n");
      out.write("\r\n");
      out.write("  <script>\r\n");
      out.write("    document.addEventListener(\"DOMContentLoaded\", function () {\r\n");
      out.write("      // Assuming this value is provided by the server\r\n");
      out.write("      const numberOfStars = 4; // Example value\r\n");
      out.write("\r\n");
      out.write("      const starContainer = document.getElementById(\"stars\");\r\n");
      out.write("      const maxStars = 5;\r\n");
      out.write("\r\n");
      out.write("      for (let i = 0; i < numberOfStars; i++) {\r\n");
      out.write("        starContainer.innerHTML += '<span class=\"star full\">&#9733;</span>';\r\n");
      out.write("      }\r\n");
      out.write("\r\n");
      out.write("      for (let i = numberOfStars; i < maxStars; i++) {\r\n");
      out.write("        starContainer.innerHTML += '<span class=\"star empty\">&#9734;</span>';\r\n");
      out.write("      }\r\n");
      out.write("    });\r\n");
      out.write("  </script>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("  <script>\r\n");
      out.write("    function showSection(sectionId) {\r\n");
      out.write("      const sections = document.querySelectorAll('.section');\r\n");
      out.write("      sections.forEach(section => {\r\n");
      out.write("        section.style.display = 'none';\r\n");
      out.write("      });\r\n");
      out.write("\r\n");
      out.write("      const buttons = document.querySelectorAll('.nav-button');\r\n");
      out.write("      buttons.forEach(button => {\r\n");
      out.write("        button.classList.remove('active');\r\n");
      out.write("      });\r\n");
      out.write("\r\n");
      out.write("      document.getElementById(sectionId).style.display = 'block';\r\n");
      out.write("      document.querySelector(`button[onclick=\"showSection('");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${sectionId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("')\"]`).classList.add('active');\r\n");
      out.write("    }\r\n");
      out.write("  </script>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("  <script>\r\n");
      out.write("    // Open the modal\r\n");
      out.write("    function openModal() {\r\n");
      out.write("      document.getElementById(\"myModal\").style.display = \"block\";\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    // Close the modal\r\n");
      out.write("    function closeModal() {\r\n");
      out.write("      document.getElementById(\"myModal\").style.display = \"none\";\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("    function rateProduct(starsReview) {\r\n");
      out.write("      // You can send the selected rating to the server or perform other actions here\r\n");
      out.write("      console.log(`User rated ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${stars}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(" stars.`);\r\n");
      out.write("    }\r\n");
      out.write("  </script>\r\n");
      out.write("  \r\n");
      out.write("  <script type=\"text/javascript\">\r\n");
      out.write("  document.getElementById('submitForm').addEventListener('click', function() {\r\n");
      out.write("	    var form = document.getElementById('addCartForm');\r\n");
      out.write("	    var formData = new FormData(form);\r\n");
      out.write("	    \r\n");
      out.write("	    const showCustomAlert = (message) => {\r\n");
      out.write("	        const alertElement = document.getElementById('customAlert');\r\n");
      out.write("	        alertElement.textContent = message;\r\n");
      out.write("	        alertElement.classList.remove('hidden');\r\n");
      out.write("	        alertElement.classList.add('show');\r\n");
      out.write("\r\n");
      out.write("	        setTimeout(() => {\r\n");
      out.write("	            alertElement.classList.remove('show');\r\n");
      out.write("	            setTimeout(() => {\r\n");
      out.write("	                alertElement.classList.add('hidden');\r\n");
      out.write("	            }, 500); // Thời gian khớp với thời gian của transition\r\n");
      out.write("	        }, 1500); // Hiển thị thông báo trong 3 giây\r\n");
      out.write("	    };\r\n");
      out.write("\r\n");
      out.write("	    console.log('Quantity:', formData.get('Quantity'));  // Should log the quantity\r\n");
      out.write("	    console.log('proID:', formData.get('proID'));        // Should log the product ID\r\n");
      out.write("\r\n");
      out.write("	    var xhr = new XMLHttpRequest();\r\n");
      out.write("	    xhr.open('POST', form.action, true);\r\n");
      out.write("	    xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n");
      out.write("	    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\r\n");
      out.write("\r\n");
      out.write("	    xhr.onreadystatechange = function() {\r\n");
      out.write("	        if (xhr.readyState === XMLHttpRequest.DONE) {\r\n");
      out.write("	            if (xhr.status === 200) {\r\n");
      out.write("	            	console.log('xhr.responseText:', xhr.responseText);\r\n");
      out.write("	                if (xhr.responseText === 'success') {\r\n");
      out.write("	                	showCustomAlert('Sản phẩm đã được thêm vào giỏ hàng.');\r\n");
      out.write("	                } else {\r\n");
      out.write("	                	showCustomAlert('Có lỗi xảy ra. Vui lòng thử lại.');\r\n");
      out.write("	                }\r\n");
      out.write("	            } else {\r\n");
      out.write("	            	showCustomAlert('Có lỗi xảy ra. Vui lòng thử lại.');\r\n");
      out.write("	            }\r\n");
      out.write("	        }\r\n");
      out.write("	    };\r\n");
      out.write("\r\n");
      out.write("	    xhr.send(\"proID=\" + encodeURIComponent(formData.get('proID')) + \"&Quantity=\" + encodeURIComponent(formData.get('Quantity')));\r\n");
      out.write("	});\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("  </script>\r\n");
      out.write("  \r\n");
      out.write(" <script>\r\n");
      out.write("    const stars = document.querySelectorAll('.star');\r\n");
      out.write("    stars.forEach((star, index) => {\r\n");
      out.write("        star.addEventListener('click', () => {\r\n");
      out.write("            stars.forEach((s, i) => {\r\n");
      out.write("                if (i <= index) {\r\n");
      out.write("                    s.classList.add('active');\r\n");
      out.write("                } else {\r\n");
      out.write("                    s.classList.remove('active');\r\n");
      out.write("                }\r\n");
      out.write("            });\r\n");
      out.write("        });\r\n");
      out.write("    });\r\n");
      out.write("\r\n");
      out.write("    function closeModal() {\r\n");
      out.write("        document.getElementById('myModal').style.display = 'none';\r\n");
      out.write("    }\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("<script>\r\n");
      out.write("document.addEventListener('DOMContentLoaded', function() {\r\n");
      out.write("    const showAlertMessage = (message) => {\r\n");
      out.write("        const alertElement = document.getElementById('thongbao');\r\n");
      out.write("        alertElement.textContent = message;\r\n");
      out.write("        alertElement.classList.remove('hidden');\r\n");
      out.write("        alertElement.classList.add('show');\r\n");
      out.write("\r\n");
      out.write("        setTimeout(() => {\r\n");
      out.write("            alertElement.classList.remove('show');\r\n");
      out.write("            setTimeout(() => {\r\n");
      out.write("                alertElement.classList.add('hidden');\r\n");
      out.write("            }, 500); // Thời gian khớp với thời gian của transition\r\n");
      out.write("        }, 1500); // Hiển thị thông báo trong 1,5 giây\r\n");
      out.write("    };\r\n");
      out.write("\r\n");
      out.write("    // Sử dụng hàm showAlertMessage khi cần thiết\r\n");
      out.write("    // Ví dụ: khi thông báo thành công\r\n");
      out.write("    showAlertMessage('Đánh giá thành công!');\r\n");
      out.write("});\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("</body>\r\n");
      out.write("\r\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
